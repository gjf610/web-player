{"version":3,"sources":["js/main.js"],"names":["m","pointer","audio","Audio","duration","clock","cacheVolume","musicList","$","selector","document","querySelector","$cover","$preBtn","$nextBtn","$playingBtn","$title","$author","$time","$bar","$progress","$volume","$volCtrl","$volNum","$volBarWrapper","$volBar","setMusic","curMusic","src","style","background","img","innerText","title","author","secondToText","second","parseInt","min","sec","paly","classList","remove","add","play","pause","isPlaying","contains","transTime","time","minute","minutes","hour","hours","seconds","onclick","e","length","throttle","func","wait","timeout","context","args","previous","later","Date","apply","throttled","now","remaining","arguments","clearTimeout","setTimeout","addEventListener","percent","currentTime","width","readyState","console","log","onmousedown","offsetX","offsetWidth","height","offsetHeight","offsetParent","offsetTop","cal","screenY","per","volume","volControl","onmouseover","display","onmouseout","onmousemove","muted","volumeStyle","icon","color","className"],"mappings":"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","file":"main.31b2c18c.js","sourceRoot":"..","sourcesContent":["const m = {\n  pointer: 0,\n  audio: new Audio(),\n  duration: 0,\n  clock: null,\n  cacheVolume: 0,\n  musicList: [\n    {\n      \"src\": \"http://jirengu_1.gitee.io/music/music/夏日示爱-郭彩洁-暖手心.m4a\",\n      \"title\": \"暖手心\",\n      \"author\": \"郭彩洁\",\n      \"img\": \"http://jirengu_1.gitee.io/music/music/夏日示爱-郭彩洁-暖手心.jpg\"\n    },\n    {\n      \"src\": \"http://jirengu_1.gitee.io/music/music/成全-林宥嘉-成全.m4a\",\n      \"title\": \"成全\",\n      \"author\": \"林宥嘉\",\n      \"img\": \"http://jirengu_1.gitee.io/music/music/成全-林宥嘉-成全.jpg\"\n    },\n    {\n      \"src\": \"http://jirengu_1.gitee.io/music/music/ifyou.mp3\",\n      \"title\": \"IF YOU\",\n      \"author\": \"Big Bang\",\n      \"img\": \"http://jirengu_1.gitee.io/music/music/if-you.png\"\n    },\n    {\n      \"src\": \"http://jirengu_1.gitee.io/music/music/飞行器的执行周期-郭顶-水星记.m4a\",\n      \"title\": \"水星记\",\n      \"author\": \"郭顶\",\n      \"img\": \"http://jirengu_1.gitee.io/music/music/飞行器的执行周期-郭顶-水星记.jpg\"\n    },\n    {\n      \"src\": \"http://jirengu_1.gitee.io/music/music/玫瑰.mp3\",\n      \"title\": \"玫瑰\",\n      \"author\": \"贰佰\",\n      \"img\": \"http://jirengu_1.gitee.io/music/music/玫瑰.jpeg\"\n    }\n  ]\n}\n\nconst $ = selector => document.querySelector(selector)\nconst $cover = $('.cover')\nconst $preBtn = $('.player .icon-backward')\nconst $nextBtn = $('.player .icon-forward')\nconst $playingBtn = $('.player .icon-playing')\nconst $title = $('.player .texts h3')\nconst $author = $('.player .texts p')\nconst $time = $('.player .time')\nconst $bar = $('.player .bar')\nconst $progress = $('.player .progress')\nconst $volume = $(\"#volume\");\nconst $volCtrl = $(\".volCtrl\");\nconst $volNum = $(\".volNum\");\nconst $volBarWrapper = $('.volBarWrapper');\nconst $volBar = $('.volBar');\n\nsetMusic()\n\nfunction setMusic() {\n  let curMusic = m.musicList[m.pointer]\n  m.audio.src = curMusic.src\n  $cover.style.background = `url(${curMusic.img}) center no-repeat`\n  $title.innerText = curMusic.title\n  $author.innerText = curMusic.author\n}\n\nfunction secondToText(second) {\n  second = parseInt(second)\n  let min = parseInt(second / 60)\n  let sec = second % 60\n  sec = sec < 10 ? '0' + sec : '' + sec\n  return min + ':' + sec\n}\nfunction paly() {\n  $playingBtn.classList.remove('icon-playing')\n  $playingBtn.classList.add('icon-pause')\n  m.audio.play()\n}\nfunction pause() {\n  $playingBtn.classList.remove('icon-pause')\n  $playingBtn.classList.add('icon-playing')\n  m.audio.pause()\n}\nfunction isPlaying() {\n  return $playingBtn.classList.contains('icon-playing')\n}\nfunction transTime(time) {\n  const duration = parseInt(time)\n  const minute = parseInt(duration / 60)\n  const minutes = minute > 10 ? minute : `0${minute}`\n  const hour = parseInt(minute / 24)\n  const hours = hours > 10 ? hours : `0${hours}`\n  const second = duration % 60\n  const seconds = second > 10 ? second : `0${second}`\n  if (hour) {\n    return `${hours}:${minutes}:${seconds}`\n  } else {\n    return `${minutes}:${seconds}`\n  }\n}\n$playingBtn.onclick = function (e) {\n  if (isPlaying()) {\n    paly()\n  } else {\n    pause()\n  }\n}\n$nextBtn.onclick = function (e) {\n  m.pointer++\n  m.pointer = m.pointer % m.musicList.length\n  setMusic()\n  paly()\n}\n$preBtn.onclick = function (e) {\n  m.pointer--\n  m.pointer = (m.pointer + m.musicList.length) % m.musicList.length\n  setMusic()\n  paly()\n}\nfunction throttle(func, wait) {\n  var timeout, context, args;\n  var previous = 0;\n\n  var later = function () {\n    previous = +new Date();\n    timeout = null;\n    func.apply(context, args)\n  };\n\n  var throttled = function () {\n    var now = +new Date();\n    //下次触发 func 剩余的时间\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    // 如果没有剩余的时间了或者你改了系统时间\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining);\n    }\n  };\n  return throttled;\n}\nm.audio.addEventListener('timeupdate', throttle(function () {\n  const percent = this.currentTime / m.audio.duration;\n  $progress.style.width = (percent * 100) + '%';\n  if (this.readyState >= 2) { // 数据已经可以播放\n    $time.innerText = secondToText(this.currentTime) + ' / ' + secondToText(m.audio.duration)\n  }\n}, 1000));\nm.audio.addEventListener('abort', function () {\n  console.log('加载中')\n  console.log('readyState a', this.readyState)\n})\nm.audio.addEventListener('ended', function () {\n  console.log('结束了')\n  setTimeout($nextBtn.onclick, 1000);\t// 1s后开始播放下一首,预留一点加载时间\n})\n\n$bar.onmousedown = function (e) {\n  const percent = (e.offsetX / $bar.offsetWidth);\n  $progress.style.width = (percent * 100) + '%';\n  m.audio.currentTime = parseInt(m.audio.duration * percent);\n  paly()\n}\n// 音量部分\n// 音量控制进度条\n$volBarWrapper.onclick = function (e) {\n  const { offsetHeight: height } = $volBarWrapper\n  const { offsetParent, offsetTop } = $volume\n  const cal = e.screenY - offsetParent.offsetTop - offsetTop + 40\n  const per = ((height - cal) / height) * 100\n  console.log(per)\n  if (per > 100) {\n    $volBar.style.height = '100%';\n    m.audio.volume = 1;\n  } else if (per < 1) {\n    $volBar.style.height = '0%';\n    m.audio.volume = 0;\n  } else {\n    $volBar.style.height = per + '%';\n    m.audio.volume = per / 100;\n  }\n  volControl()\n}\n\n// 音量按钮鼠标滑过显示音量控制条,鼠标移出隐藏音量控制条\n$volume.onmouseover = function () {\n  $volCtrl.style.display = \"block\";\n}\n$volume.onmouseout = function () {\n  $volCtrl.style.display = \"none\";\n}\n// 鼠标在音量条上移动时候继续显示音量控制条\n$volCtrl.onmousemove = function () {\n  $volCtrl.style.display = \"block\";\n}\n$volCtrl.onmouseout = function () {\n  $volCtrl.style.display = \"none\";\n}\n// 监控音量变化，实时显示当前音量\nm.audio.addEventListener('volumechange', function () {\n  $volNum.innerText = m.audio.muted ? \"0\" : parseInt(m.audio.volume * 100);\n});\n$volume.onclick = function () {\n  if (m.audio.muted) {\n    m.audio.volume = m.cacheVolume\n    $volBar.style.height = (m.audio.volume * 100) + '%';\n    m.audio.muted = false\n  } else {\n    m.cacheVolume = m.audio.volume\n    $volBar.style.height = '0%';\n    m.audio.volume = 0;\n    m.audio.muted = true\n  }\n  volControl()\n}\nfunction volumeStyle(icon, color) {\n  $volume.className = \"iconfont \" + icon;\n  $volume.style.color = color;\n}\n// 音量控制函数\nfunction volControl() {\n  switch (true) {\n    case m.audio.volume === 0:\n      volumeStyle(\"icon-mute\", \"#ccc\")\n      break;\n    case m.audio.volume > 0 && m.audio.volume <= 0.33:\n      volumeStyle(\"icon-volume-low\", \"inherit\")\n      break;\n    case m.audio.volume > 0.33 && m.audio.volume <= 0.66:\n      volumeStyle(\"icon-volume-middle\", \"inherit\")\n      break;\n    case m.audio.volume > 0.66 && m.audio.volume <= 1:\n      volumeStyle(\"icon-volume-high\", \"inherit\")\n      break;\n  }\n}"]}